---
id: sif626tmt3mw3nir5gv1s1a
title: unified component
desc: ''
updated: 1752335016022
created: 1751599398246
---

## Overview

A **unified dataset** provides convenient aggregated access to a mesh node's current state by combining data from its non-config [[components|sflo.concept.mesh.resource.element.flow]] (meta and ref; meta and data; or meta, ref, and data) into a single [[sflo.concept.mesh.resource.element.flow.snapshot]] with corresponding distribution files.

Since it is fundamentally a combination, it only makes sense to generate a unified component for nodes that have more than one component, i.e., not [[sflo.concept.mesh.resource.node.namespace]].

## Component or Not?

Like all components:

- its associated with a [[sflo.concept.mesh.resource.node]]
- its a DatasetSeries that consists of "state layers" that have distributions
- its metadata is kept in its sibling [[sflo.concept.mesh.resource.element.flow.metadata]]
- it has independent versioning, and a _current snapshot which duplicates the latest version

Like the metadata flow: 

- it is generated by the [[system|sflo.concept.mesh.resource-facet.system]] and so is not considered [[user-modifiable|sflo.concept.mesh.resource-facet.user]]
- no _next snapshot (or _next is just temporary during weave)
- System components always version together in response to user component changes.

Unlike other components:

- it doesn't contain any data of its own; it's more a view than a source


## Architecture

### IRI Structure & Single Referent Compliance
- **Node IRI** (`ns/djradon/bio-dataset/`) refers to its semantic entity (abstract dataset or thing)
- **Unified Component IRI** (`ns/djradon/bio-dataset/_unified/`) refers to the aggregated DatasetSeries
- **Distribution files** are serializations of the unified dataset
- **No violation** of [[single referent principle|sflo.principle.single-referent]]

### Content Composition
```turtle
# Example unified dataset content
@prefix flow: <https://semantic-flow.github.io/sflo-ontology/> .

# Unified dataset describes its aggregation
<ns/djradon/bio-dataset/_unified/> a dcat:Dataset ;
  dct:title "Unified view of bio-dataset node" ;
  flow:aggregatedFrom [
    flow:metaDataset <ns/djradon/bio-dataset/_meta-component/v2/> ;
    flow:dataDataset <ns/djradon/bio-dataset/_data-component/v1/> ;
    flow:aggregatedAt "2025-01-03T19:06:34Z"^^xsd:dateTime
  ] .

<ns/djradon/bio-dataset/_meta/_current/> {
  # Current meta dataset content
}

<ns/djradon/bio-dataset/_data/_current/> {
  # Current data dataset content
}
```

## Benefits

### Developer Experience
- **Single file access**: Complete node state in one distribution
- **Atomic consistency**: Guaranteed consistent snapshot of all components
- **Simplified client code**: No need to understand internal node structure

### Performance
- **Reduced HTTP requests**: One file instead of 3+ component requests
- **Bandwidth efficiency**: Optimized for common "give me everything about this node" use case

### Provenance 
- **Version tracking**: Metadata about which flow versions were aggregated
- **Audit trail**: Clear record of what was combined and when
- **Debugging**: Easy to see complete node state at specific point in time

## Implementation Considerations

### Generation Strategy
- **Event-driven**: Regenerate on any version-bumping weave

### Synchronization
- **Consistency checks**: Validate component datasets before aggregation
- **Error handling**: Graceful degradation when components missing/invalid
- **Race conditions**: Handle concurrent updates to components

### Storage
- **Disk space**: Additional storage overhead for duplicated data

## Technical Requirements

### File Naming
- Pattern: `{node-name}_unified.{format}` (e.g., `bio-dataset_unified.trig`)
- Consistent across all node types
- Clear differentiation from component dataset files

### Content Validation
- **Component availability**: All required components must exist
- **RDF validity**: Generated content must be valid RDF
- **Graph organization**: Clear separation of component data via named graphs


**Why not always use a unified dataset?**

- **Node type detection**: Folder existence (`_ref/` vs `_data/`) indicates node type without parsing
- **Granular access**: Clients can request specific components (meta-only, data-only)
- **Independent versioning**: Components can evolve at different rates
- **Clear semantics**: Each dataset has focused, well-defined purpose

**Why bother with a unified dataset?**

**Unified approach benefits**:
- **Simplicity**: Single dataset per node reduces complexity
- **Atomic consistency**: All components always synchronized

## Related Concepts

- [[sflo.concept.mesh.resource.node]] - Base mesh node architecture
- [[sflo.concept.mesh.resource.element.flow.metadata]] - Centralized metadata
- [[sflo.concept.mesh.resource.element.flow.snapshot.distribution]] - Distribution file concepts
